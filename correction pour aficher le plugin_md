TrÃ¨s bonne question ! Pour intÃ©grer vos fichiers existants (CSS, JS, PHP, etc.) dans un **plugin WordPress structurÃ©**, voici **un guide Ã©tape par Ã©tape** pour les organiser, les charger, et faire fonctionner le tout proprement **comme un vrai plugin WordPress**.

---

## âœ… Ã‰tapes pour transformer vos fichiers en plugin WordPress

### ğŸ“ 1. **Structure du plugin**

Organisez vos fichiers dans un dossier `/ai32-annuaire` comme suit :

```
wp-content/
â””â”€â”€ plugins/
    â””â”€â”€ ai32-annuaire/
        â”œâ”€â”€ ai32.php               â† Point dâ€™entrÃ©e du plugin
        â”œâ”€â”€ class/
        â”‚   â”œâ”€â”€ class-ai32.php     â† Votre fichier principal avec la classe `AI32`
        â”‚   â”œâ”€â”€ class-ldap.php     â† Classe `AI32_LDAP` (si vous lâ€™avez)
        â”‚   â””â”€â”€ class-view.php     â† Classe `AI32_VIEW` pour lâ€™affichage
        â”œâ”€â”€ public/
        â”‚   â”œâ”€â”€ css/
        â”‚   â”‚   â””â”€â”€ ai32.css       â† Vos styles CSS
        â”‚   â”œâ”€â”€ js/
        â”‚   â”‚   â””â”€â”€ ai32.js        â† Votre JavaScript
        â”‚   â””â”€â”€ lib/               â† Librairies comme DataTables, jQuery
        â”œâ”€â”€ templates/
        â”‚   â”œâ”€â”€ ai32.php           â† Vue pour afficher les rÃ©sultats
        â”‚   â””â”€â”€ ai32-link.php      â† Vue pour le lien vers RH
        â””â”€â”€ README.md              â† Documentation
```

---

### ğŸ§  2. **Fichier principal du plugin : `ai32.php`**

Câ€™est ce fichier qui sera lu par WordPress Ã  lâ€™activation du plugin :

```php
<?php
/**
 * Plugin Name: AI32 Annuaire Intranet
 * Description: Plugin WordPress pour afficher un annuaire LDAP dans l'intranet.
 * Version: 1.0.0
 * Author: Christian Shungu
 * License: GPLv2 or later
 */

defined('ABSPATH') || exit;

// Constantes
define('AI32_PATH', plugin_dir_path(__FILE__));
define('AI32_URL', plugin_dir_url(__FILE__));

// Inclusions
require_once AI32_PATH . 'class/class-ai32.php';
require_once AI32_PATH . 'class/class-ldap.php';
require_once AI32_PATH . 'class/class-view.php';

// Hook WordPress
add_action('init', ['AI32\AI32', 'supprots']);
```

---

### ğŸ“Œ 3. **Fichier de votre classe `class-ai32.php`**

Ce fichier, câ€™est celui que vous avez dÃ©jÃ . Veillez juste Ã  lâ€™adapter pour :

* Utiliser les chemins corrects (vers `templates/` au lieu de `public/`)
* Supprimer les fautes : `shortecode` â†’ `shortcode`

Adaptez :

```php
AI32_VIEW::render("templates/ai32.php", $attributes);
```

---

### ğŸ¨ 4. **Assets CSS et JS**

Dans `register_assets()`, vous avez dÃ©jÃ  tout ce quâ€™il faut. Assurez-vous que les chemins soient corrects :

```php
wp_register_style('ai32', AI32_URL . 'public/css/ai32.css');
wp_register_script('ai32', AI32_URL . 'public/js/ai32.js', ['jquery'], '1.0', true);
```

> âœ… Conseil : Chargez les fichiers **uniquement sur les pages utiles** avec `is_page()`.

---

### ğŸ“„ 5. **Vues HTML (dans `templates/`)**

DÃ©placez vos anciens fichiers HTML ou PHP partiels ici. Exemple :

#### `templates/ai32.php`

```php
<div class="ai32-search-bar-container">
    <input type="text" class="ai32-search-bar" id="search-bar" placeholder="Recherche...">
</div>

<div class="ai32-filtres">
    <form id="filters-form">
        <input type="text" placeholder="Nom">
        <input type="text" placeholder="Service">
        <button type="submit">Filtrer</button>
        <button type="reset" id="reset-filters">RÃ©initialiser</button>
    </form>
</div>

<div class="resultats-container">
    <?php foreach ($resultats as $item): ?>
        <div class="carte-resultat">
            <p><strong>Nom :</strong> <?= esc_html($item['name']) ?></p>
            <p><strong>Email :</strong> <a href="mailto:<?= esc_attr($item['email']) ?>"><?= esc_html($item['email']) ?></a></p>
        </div>
    <?php endforeach; ?>
</div>
```

---

### ğŸ§© 6. **Ajout du shortcode dans une page WordPress**

Dans une page WordPress, collez simplement :

```
[ai32_shortcode_content]
```

> ğŸ’¡ Assurez-vous que la mÃ©thode `AI32::pageContent()` retourne bien le HTML (ou le `include` dans la vue).

---

## ğŸ RÃ©sumÃ© : Check-list finale

| âœ… Ã€ faire                          | ğŸ“‚ Emplacement        |
| ---------------------------------- | --------------------- |
| CrÃ©er `ai32.php`                   | racine plugin         |
| Ajouter `class-ai32.php`           | `/class/`             |
| DÃ©placer vues HTML                 | `/templates/`         |
| Placer CSS/JS                      | `/public/`            |
| Corriger les noms de shortcodes    | Dans votre classe     |
| Utiliser `add_action('init', ...)` | Dans `ai32.php`       |
| Ajouter le shortcode dans une page | WordPress Page Editor |

---

Souhaitez-vous que je vous gÃ©nÃ¨re un exemple ZIP prÃªt Ã  l'emploi avec cette structure ?
